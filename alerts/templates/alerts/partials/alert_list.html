{% for alert in alerts %}
<div class="alert-card {% if alert.priority == 'critical' %}critical{% endif %}" 
     id="alert-{{ alert.id }}">
    
    <div class="alert-header">
        <div class="alert-title">
            {% if alert.priority == 'critical' %}‚ö†Ô∏è{% else %}‚ÑπÔ∏è{% endif %}
            {{ alert.title }}
            <span class="badge badge-{{ alert.priority }}">
                {{ alert.get_priority_display|upper }}
            </span>
        </div>
        <span class="alert-time">{{ alert.created_at|timesince }} ago</span>
    </div>
    
    <div class="alert-body">
        <p><strong>Truck:</strong> {{ alert.truck.license_plate }}</p>
        <p><strong>Driver:</strong> {{ alert.driver.user.get_full_name }}</p>
        <p><strong>Event:</strong> {{ alert.weather_event.get_event_type_display }} - {{ alert.weather_event.location_name }}</p>
        <p style="margin-top: 10px;">{{ alert.message|linebreaks }}</p>
    </div>
    
    <div class="alert-actions">
        {% if alert.status != 'acknowledged' %}
            <button class="btn-acknowledge"
                    hx-post="/htmx/alerts/{{ alert.id }}/acknowledge/"
                    hx-target="#alert-{{ alert.id }}"
                    hx-swap="outerHTML">
                ‚úì Acknowledge Alert
            </button>
        {% else %}
            <span class="acknowledged">
                ‚úì Acknowledged {{ alert.acknowledged_at|timesince }} ago
            </span>
        {% endif %}
    </div>
</div>
{% empty %}
<div class="no-alerts">
    <p style="font-size: 18px; margin-bottom: 10px;">üì≠</p>
    <p>No alerts found matching your criteria.</p>
</div>
{% endfor %}